!function(){"use strict";var e,t={445:function(e,t,r){var n,a=r(848),s=r(540),i=r(338),o=r(600),c=r(468),l=r(816),u=(0,l.Z0)({name:"search",initialState:{query:""},reducers:{setQuery:function(e,t){e.query=t.payload}}}),d=u.actions.setQuery,f=function(e){return e.search.query},h=u.reducer,m=(0,l.zD)("category/fetchCategories",(function(){return e=void 0,t=void 0,n=function(){return function(e,t){var r,n,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(c){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}(this,(function(e){switch(e.label){case 0:return[4,fetch("https://www.themealdb.com/api/json/v1/1/list.php?c=list")];case 1:return[4,e.sent().json()];case 2:return[2,e.sent().meals]}}))},new((r=Promise)||(r=Promise))((function(a,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function o(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,o)}c((n=n.apply(e,t||[])).next())}));var e,t,r,n})),p=(0,l.Z0)({name:"category",initialState:{category:"",categories:{list:[],status:"idle",error:null}},reducers:{setCategory:function(e,t){e.category=t.payload}},extraReducers:function(e){e.addCase(m.pending,(function(e){e.categories.status="loading"})).addCase(m.fulfilled,(function(e,t){e.categories.status="succeeded",Array.isArray(t.payload)?e.categories.list=t.payload.map((function(e){return e.strCategory})):(console.error("API response is not in expected format:",t.payload),e.categories.list=[])})).addCase(m.rejected,(function(e,t){e.categories.status="failed",e.categories.error=t.error.message||"Failed to fetch categories"}))}}),g=p.actions.setCategory,v=function(e){return e.category.category},x=function(e){return e.category.categories},y=p.reducer,j=(0,l.Z0)({name:"pagination",initialState:{currentPage:1},reducers:{setPage:function(e,t){e.currentPage=t.payload}}}),b=j.actions.setPage,w=function(e){return e.pagination.currentPage},P=j.reducer,I=(0,l.Z0)({name:"selected",initialState:{selectedMeals:[]},reducers:{addSelectedMeals:function(e,t){e.selectedMeals.find((function(e){return e.idMeal===t.payload.idMeal}))||e.selectedMeals.push(t.payload)},removeSelectedMeals:function(e,t){e.selectedMeals=e.selectedMeals.filter((function(e){return e.idMeal!==t.payload}))}}}),M=(n=I.actions).addSelectedMeals,C=n.removeSelectedMeals,S=function(e){return e.selected.selectedMeals},N=I.reducer,k=function(e,t,r,n){return new(r||(r=Promise))((function(a,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function o(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,o)}c((n=n.apply(e,t||[])).next())}))},E=function(e,t){var r,n,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(c){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},O=function(e){return k(void 0,void 0,Promise,(function(){return E(this,(function(t){switch(t.label){case 0:return[4,fetch("https://www.themealdb.com/api/json/v1/1/lookup.php?i=".concat(e))];case 1:return[4,t.sent().json()];case 2:return[2,t.sent().meals[0]]}}))}))},A=(0,l.zD)("mealCard/fetchMealById",(function(e){return k(void 0,void 0,Promise,(function(){return E(this,(function(t){switch(t.label){case 0:return[4,O(e)];case 1:return[2,t.sent()]}}))}))})),T=(0,l.Z0)({name:"mealCard",initialState:{mealById:{mealById:null,status:"idle",error:null}},reducers:{},extraReducers:function(e){e.addCase(A.pending,(function(e){e.mealById.status="loading"})).addCase(A.fulfilled,(function(e,t){e.mealById.status="succeeded",e.mealById.mealById=t.payload})).addCase(A.rejected,(function(e,t){e.mealById.status="failed",e.mealById.error=t.error.message||"Failed to fetch meal by id"}))}}),B=function(e){return e.mealCard.mealById},R=T.reducer,F=(0,l.zD)("meals/fetchMeals",(function(e){return t=void 0,r=void 0,a=function(){return function(e,t){var r,n,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(o){return function(c){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,o[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}(this,(function(t){switch(t.label){case 0:return[4,fetch("https://www.themealdb.com/api/json/v1/1/search.php?s=".concat(e))];case 1:return[4,t.sent().json()];case 2:return[2,t.sent().meals]}}))},new((n=Promise)||(n=Promise))((function(e,s){function i(e){try{c(a.next(e))}catch(e){s(e)}}function o(e){try{c(a.throw(e))}catch(e){s(e)}}function c(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(e){e(r)}))).then(i,o)}c((a=a.apply(t,r||[])).next())}));var t,r,n,a})),L=(0,l.Z0)({name:"meals",initialState:{meals:{meals:[],status:"idle",error:null}},reducers:{},extraReducers:function(e){e.addCase(F.pending,(function(e){e.meals.status="loading"})).addCase(F.fulfilled,(function(e,t){e.meals.status="succeeded",e.meals.meals=t.payload})).addCase(F.rejected,(function(e,t){e.meals.status="failed",e.meals.error=t.error.message||"Failed to fetch meals"}))}}),Z=function(e){return e.meals.meals},z=L.reducer,H=(0,l.U1)({reducer:{meals:z,mealCard:R,selected:N,search:h,category:y,pagination:P}}),Q=r(984),q=c.wA.withTypes(),G=c.d4.withTypes(),V=s.memo((function(e){var t=function(){var e=(0,Q.ok)(),t=e[0],r=e[1],n=(0,c.wA)(),a=t.get("search")||"";return(0,s.useEffect)((function(){n(d(a))}),[a,n]),{setSearchQuery:function(e){n(d(e));var a=new URLSearchParams(t);e?a.set("search",e):a.delete("search"),r(a)}}}().setSearchQuery,r=G(f);return(0,a.jsx)("input",{className:"OAtCkO7u",type:"text",value:r,onChange:function(e){return t(e.target.value)},placeholder:"Search..."})})),D=s.memo((function(e){var t=function(e){var t=q(),r=G(S).some((function(t){return t.idMeal===e.meal.idMeal}));return{toggleFavorite:function(){t(r?C(e.meal.idMeal):M(e.meal))},isSelected:r}}({meal:e.meal}),r=t.toggleFavorite,n=t.isSelected;return(0,a.jsx)("button",{onClick:r,children:n?"✅ У вибраних":"➕ Додати у вибрані"})})),U=s.memo((function(e){return(0,a.jsx)(Q.N_,{to:e.linkTo,className:"N1QQfcRi",children:e.buttonText})})),W=s.memo((function(e){var t=e.meal,r=t.strMeal,n=t.strMealThumb,s=t.strArea,i=t.strCategory;return(0,a.jsxs)("div",{className:"Sf6m2Xbn",children:[(0,a.jsx)("img",{src:n,alt:r,className:"IDWxcxyg"}),(0,a.jsx)("h3",{children:r}),(0,a.jsxs)("p",{children:[i," | ",s]}),(0,a.jsx)("div",{className:"uAvr_8oz",children:e.actionSlot}),(0,a.jsx)("div",{className:"boZXB1Ch",children:e.actionSlot1})]})})),J=function(e,t,r){if(r||2===arguments.length)for(var n,a=0,s=t.length;a<s;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},_="...",Y=function(e,t){var r=t-e+1;return Array.from({length:r},(function(t,r){return r+e}))};function X(){var e=(0,Q.ok)(),t=e[0],r=e[1],n=q(),a=Number(t.get("page"))||1,i=t.get("category"),o=t.get("search");return(0,s.useEffect)((function(){n(b(a))}),[a,n]),(0,s.useEffect)((function(){var e=new URLSearchParams(t);e.delete("page"),r(e),n(b(1))}),[i,o,n]),{setPage:function(e){n(b(e));var a=new URLSearchParams(t);e>1?a.set("page",String(e)):a.delete("page"),r(a)}}}var K=s.memo((function(e){var t=e.totalCount,r=e.itemsPerPage,n=G(w),i=function(e){var t=e.totalCount,r=e.pageSize,n=e.siblingCount,a=void 0===n?1:n,i=e.currentPage;return(0,s.useMemo)((function(){var e=Math.ceil(t/r);if(a+5>=e)return Y(1,e);var n=Math.max(i-a,1),s=Math.min(i+a,e),o=n>2,c=s<e-2,l=e;if(!o&&c){var u=Y(1,3+2*a);return J(J([],u,!0),[_,e],!1)}if(o&&!c){var d=Y(e-(3+2*a)+1,e);return J([1,_],d,!0)}if(o&&c){var f=Y(n,s);return J(J([1,_],f,!0),[_,l],!1)}return[]}),[t,r,a,i])}({totalCount:t,pageSize:r,siblingCount:1,currentPage:n}),o=X().setPage;return!i||i.length<=1?null:(0,a.jsx)("div",{className:"Ig9BGEDH",children:i.map((function(e,t){return e===_?(0,a.jsx)("span",{className:"vW8d7iFu",children:_},t):(0,a.jsx)("button",{onClick:function(){return function(e){o(e)}(Number(e))},className:"".concat("Eq18wG7H"," ").concat(e===n?"cq4e2E4F":""),children:e},t)}))})})),$=K,ee=s.memo((function(e){var t=e.filteredItems,r=e.itemsPerPage,n=function(e){var t=(e.currentPage-1)*e.itemsPerPage;return e.filteredItems.slice(t,t+e.itemsPerPage)}({currentPage:G(w),itemsPerPage:r,filteredItems:t});return"loading"===e.status?(0,a.jsx)("div",{children:"Loading..."}):"failed"===e.status?(0,a.jsxs)("div",{children:["Error: ",e.error]}):n?(0,a.jsxs)("div",{children:[(0,a.jsx)("ul",{className:"Fw7PyxcP",children:n.length>0?n.map((function(e){return(0,a.jsx)("li",{children:(0,a.jsx)(W,{meal:e,actionSlot:(0,a.jsx)(D,{meal:e}),actionSlot1:(0,a.jsx)(U,{linkTo:"/recipe/".concat(e.idMeal),buttonText:"View Recipe"})})},e.idMeal)})):(0,a.jsx)("p",{children:"No results found"})}),(0,a.jsx)("div",{className:"NNpw6VA7",children:(0,a.jsx)($,{totalCount:t.length,itemsPerPage:r})})]}):void 0}));function te(){var e=(0,Q.ok)(),t=e[0],r=e[1],n=(0,c.wA)(),a=t.get("category")||"";return(0,s.useEffect)((function(){n(g(a))}),[a,n]),{setCategory:function(e){n(g(e));var a=new URLSearchParams(t);e?a.set("category",e):a.delete("category"),r(a)}}}var re=s.memo((function(e){var t=q(),r=te().setCategory,n=G(v),i=G(x),o=i.list,c=i.status,l=i.error;return(0,s.useEffect)((function(){t(m())}),[t]),(0,a.jsx)("div",{className:"nrdpokiT",children:(0,a.jsxs)("select",{className:"gO_sHnQx",value:n,onChange:function(e){return r(e.target.value)},children:[(0,a.jsx)("option",{value:"",children:"All Categories"}),"loading"===c&&(0,a.jsx)("option",{value:"",children:"Loading categories..."}),"failed"===c&&(0,a.jsxs)("option",{value:"",children:["Error loading categories ",l]}),o&&o.length>0?o.map((function(e){return(0,a.jsx)("option",{value:e,children:e},e)})):(0,a.jsx)("option",{value:"",children:"No categories available"})]})})})),ne=s.memo((function(e){return(0,a.jsxs)("div",{className:"P11z3Vjg",children:[(0,a.jsx)(V,{}),(0,a.jsx)(re,{})]})})),ae=s.memo((function(e){var t=e.mealById,r=t.strMeal,n=t.strCategory,s=t.strArea,i=t.strInstructions,o=t.strMealThumb;return(0,a.jsxs)("div",{className:"eEfVFY7n",children:[(0,a.jsx)("h1",{children:r}),(0,a.jsx)("img",{src:o,alt:r}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Category:"})," ",n]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Area:"})," ",s]}),(0,a.jsx)("h3",{children:"Ingredients"}),(0,a.jsx)("ul",{children:e.ingredients.map((function(e,t){return(0,a.jsx)("li",{children:e},t)}))}),(0,a.jsx)("h3",{children:"Instructions"}),(0,a.jsx)("p",{children:i})]})})),se=s.memo((function(e){var t,r,n=(0,Q.g)().idMeal,i=q(),o=G(B),c=o.mealById,l=o.status,u=o.error,d=(t=c||[],r="strIngredient",(0,s.useMemo)((function(){return Object.entries(t).filter((function(e){var t=e[0],n=e[1];return t.startsWith(r)&&Boolean(n)})).map((function(e){e[0];var t=e[1];return String(t)}))}),[t,r]));return(0,s.useEffect)((function(){n&&i(A(n))}),[i,n]),"loading"===l?(0,a.jsx)("div",{children:"Loading..."}):"failed"===l?(0,a.jsxs)("div",{children:["Error: ",u]}):c?(0,a.jsx)("div",{children:(0,a.jsx)(ae,{mealById:c,ingredients:d})}):void 0})),ie=s.memo((function(e){return(0,a.jsxs)("div",{className:"FEo2J3bs",children:[(0,a.jsx)("h3",{children:"Instructions:"}),e.selectedMeals.map((function(e){return(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{children:e.strMeal}),(0,a.jsx)("p",{children:e.strInstructions})]},e.idMeal)}))]})})),oe=s.memo((function(e){return(0,a.jsxs)("div",{className:"Zcxtafdn",children:[(0,a.jsxs)("h3",{children:["Total Ingredients: ",e.totalIngredients.length]}),(0,a.jsx)("ul",{children:e.totalIngredients.map((function(e,t){return(0,a.jsxs)("li",{children:[e.strMeasure," ",e.strIngredient]},t)}))})]})})),ce=s.memo((function(e){var t=e.selectedMeals.flatMap((function(e){var t=[],r=function(r){if(r.startsWith("strIngredient")){var n=r.replace("strIngredient",""),a=e[r],s=e["strMeasure".concat(n)];if(a&&""!==a){var i=t.find((function(e){return e.strIngredient===a}));i?i.strMeasure+=", ".concat(s||""):t.push({strIngredient:a,strMeasure:s||""})}}};for(var n in e)r(n);return t}));return(0,a.jsx)("div",{children:(0,a.jsx)(oe,{totalIngredients:t})})})),le=function(e){return(0,a.jsxs)("div",{className:"AoaxYbxP",children:[(0,a.jsx)("div",{children:(0,a.jsx)(U,{linkTo:"/",buttonText:"Home"})}),(0,a.jsx)("div",{children:(0,a.jsx)("h1",{className:"WJfH1Eks",children:"Recipes App"})}),(0,a.jsx)("div",{children:(0,a.jsx)(U,{linkTo:"/selected",buttonText:"Selected"})})]})},ue=(0,Q.Ys)([{path:"/",element:(0,a.jsx)((function(){return(0,a.jsxs)("div",{className:"VZEuQ_Vf",children:[(0,a.jsx)(le,{}),(0,a.jsx)(Q.sv,{})]})}),{}),children:[{path:"/",element:(0,a.jsx)((function(){var e,t=q(),r=G(Z),n=r.meals,i=r.status,o=r.error,c=G(f),l=G(v),u=(e={meals:n,search:c,category:l}).meals.filter((function(t){return(!e.search||t.strMeal.toLowerCase().includes(e.search.toLowerCase()))&&(!e.category||t.strCategory===e.category)}));return(0,s.useEffect)((function(){t(F(c))}),[]),(0,a.jsxs)("div",{className:"wjA5lAvT",children:[(0,a.jsx)(ne,{}),(0,a.jsx)(ee,{status:i,error:o,filteredItems:u,itemsPerPage:4})]})}),{})},{path:"/recipe/:idMeal",element:(0,a.jsx)((function(){return(0,a.jsx)("div",{children:(0,a.jsx)(se,{})})}),{})},{path:"/selected",element:(0,a.jsx)((function(){var e=G(S);return(0,a.jsxs)("div",{className:"EkJ3wGzH",children:[(0,a.jsx)("div",{children:(0,a.jsx)("h1",{className:"nJH8ujrj",children:"Selected Recipes"})}),(0,a.jsx)("div",{children:0===e.length?(0,a.jsx)("p",{children:"No recipes selected"}):(0,a.jsxs)("div",{children:[(0,a.jsx)(ee,{filteredItems:e,itemsPerPage:2}),(0,a.jsx)(ce,{selectedMeals:e}),(0,a.jsx)(ie,{selectedMeals:e})]})})]})}),{})}]}]),de=document.getElementById("root");if(!de)throw new Error("Root node not found");(0,i.H)(de).render((0,a.jsxs)(c.Kq,{store:H,children:[(0,a.jsx)(o.p,{router:ue})," "]}))}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var s=r[e]={exports:{}};return t[e](s,s.exports,n),s.exports}n.m=t,e=[],n.O=function(t,r,a,s){if(!r){var i=1/0;for(u=0;u<e.length;u++){r=e[u][0],a=e[u][1],s=e[u][2];for(var o=!0,c=0;c<r.length;c++)(!1&s||i>=s)&&Object.keys(n.O).every((function(e){return n.O[e](r[c])}))?r.splice(c--,1):(o=!1,s<i&&(i=s));if(o){e.splice(u--,1);var l=a();void 0!==l&&(t=l)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[r,a,s]},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={792:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,s,i=r[0],o=r[1],c=r[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(c)var u=c(n)}for(t&&t(r);l<i.length;l++)s=i[l],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(u)},r=self.webpackChunkrecipes=self.webpackChunkrecipes||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var a=n.O(void 0,[96],(function(){return n(445)}));a=n.O(a)}();
//# sourceMappingURL=main.81f1104690022efd0f0d.js.map